Курсовая работа №6. Основы веб-разработки на Django

После всех стандартных процедур миграций и т.п. план действий таков:
1. Создать суперюзера 
2. Создать рассылку, добавить клиентов в базу данных, добавить клиентов в рассылку путём изменения рассылки.

Создание соответвующих переодических задач (модели django_celery_beat) происходит автоматически при создании рассылок. Также в файл tasks.py добавляются автоматически функции для работы переодических задач 3. Запустить команду по активации периодических задач: python3 manage.py activate_all_tasks (есть также команда для деактивации) 4. Запустить в двух разных окнах терминала следующие команды:

celery -A config beat -l INFO


celery -A config worker -l INFO

 5. Начнётся выполнение рассылок 
 
Статусы рассылок изменяются автоматически, единственное, что, если происходит принудительная остановка процесса, то нужно затем в ручную эти статусы поменять. 
При этом, если нужно будет вновь запустить процесс, то необходимо начать с 3 пункта, то есть вновь активировать переодические задачи, а затем запустить celery команды.

При удалении рассылки удаляется и переодическая задача связанная с ней. Будет также отлично, если после удаления вы удалите ненужные функции в tasks.py. 
Хотя если они останутся, то проблем не должно возникнуть, поскольку на каждую переодическую задачу создаётся своя функция. И к тому же если ввести команду: python3 manage.py clear_tasks_functions, то удалятся все функции но импорты будут незатронуты, что позволит потом файлу так же спокойно наполняться.

ВАЖНО!!! При создании менеджеров добавляйте им в админке staff status потому что часть функционала менеджера рассчитана, на что он user.is_staff. Также для быстрого наполенения блога можно зафикстурить файл blog.json :)
